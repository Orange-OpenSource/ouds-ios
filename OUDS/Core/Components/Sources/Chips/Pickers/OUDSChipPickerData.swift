//
// Software Name: OUDS iOS
// SPDX-FileCopyrightText: Copyright (c) Orange SA
// SPDX-License-Identifier: MIT
//
// This software is distributed under the MIT license,
// the text of which is available at https://opensource.org/license/MIT/
// or see the "LICENSE" file for more details.
//
// Authors: See CONTRIBUTORS.txt
// Software description: A SwiftUI components library with code examples for Orange Unified Design System
//

import SwiftUI

/// The data to use to populate the picker of ``OUDSFilterChip`` objects.
/// Each property in this ``OUDSChipPickerData`` is used to define the suitable ``OUDSFilterChip``.
///
/// - Since: 0.17.0
public struct OUDSChipPickerData<Tag> where Tag: Hashable {

    /// The identifier, supposed to be unique, to discriminate the element.
    /// This value will be exposed as selection inside the ``OUDSChipPicker``.
    let tag: Tag

    /// The layout of the ``OUDSFilterChip``
    let layout: Layout

    /// If needed, and because the items in the ``OUDSChipPicker`` are generated by the picker, the accesibility identifier to add to the generated item.
    /// Can be useful for automated tests for examples or anything else.
    /// By default is nil as the logic of identifiers is in the hand of the users.
    let accessibilityIdentifier: String?

    /// The layout of the ``OUDSFilterChip``.
    ///
    /// **Remark: For texts, strings are wording keys from strings catalog stored in `Bundle.main`, they are automatically localized. Else, prefer to
    /// provide the localized string if key is stored in another bundle.**
    public enum Layout {
        /// Layout with text only
        case text(text: String)

        /// Layout with icon only and its accessibility label
        case icon(icon: Image, accessibilityLabel: String)

        /// Layout with text and icon
        case textAndIcon(text: String, icon: Image)
    }

    /// Defines the data to use to define the chip (``OUDSFilterChip``)
    ///
    /// - Parameters:
    ///    - tag: A value to discriminate one chip to another
    ///    - layout: The layout of the ``OUDSFilterChip``
    ///    - accessibilityIdentifier: The accessibility identifier to add to the item, nil by default
    public init(tag: Tag,
                layout: Layout,
                accessibilityIdentifier: String? = nil) {
        self.tag = tag
        self.layout = layout
        self.accessibilityIdentifier = accessibilityIdentifier
    }
}
